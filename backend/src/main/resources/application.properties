spring.application.name=tiendario-backend
server.port=8080

# Disable Elasticsearch autoconfiguration by default (prevents connection errors)
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration,org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchRepositoriesAutoConfiguration,org.springframework.boot.autoconfigure.elasticsearch.ElasticsearchRestClientAutoConfiguration

# Database Configuration (H2 for local testing)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:h2:mem:tiendario;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=PostgreSQL}
spring.datasource.driverClassName=${SPRING_DATASOURCE_DRIVER_CLASS_NAME:org.h2.Driver}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:sa}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}
spring.jpa.database-platform=${SPRING_JPA_DATABASE_PLATFORM:org.hibernate.dialect.H2Dialect}
spring.h2.console.enabled=true
spring.jpa.hibernate.ddl-auto=update

# Elasticsearch Configuration
spring.elasticsearch.uris=${SPRING_ELASTICSEARCH_URIS:http://localhost:9200}

# Security (JWT Secret)
app.jwt.secret=${APP_JWT_SECRET:9a2f8c4e6b0d71f3e8b9c0d1a2f3e4d5c6b7a8b9c0d1e2f3a4b5c6d7e8f9a0b1}
app.jwt.expiration-ms=86400000

# Fix bean definition conflict
spring.main.allow-bean-definition-overriding=true

# Stripe Configuration
stripe.api.key=${STRIPE_API_KEY}
stripe.success.url=${STRIPE_SUCCESS_URL:http://localhost:8081/dashboard?payment_success=true}
stripe.cancel.url=${STRIPE_CANCEL_URL:http://localhost:8081/dashboard?payment_canceled=true}

# Logging Configuration
logging.level.root=INFO
logging.level.com.tiendario=DEBUG
logging.file.path=logs
logging.file.name=logs/tiendario-backend.log
